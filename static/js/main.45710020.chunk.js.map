{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","CurrentUserContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","caption","type","aria-label","length","Main","onEditProfile","onEditAvatar","onAddPlace","cards","avatar","about","map","Footer","Date","getFullYear","ImagePopup","onClose","isOpen","event","target","currentTarget","api","options","this","_baseUrl","baseUrl","_headers","headers","deleteCard","bind","res","ok","json","Promise","reject","status","fetch","method","then","_getResponseData","userData","body","JSON","stringify","cardData","cardId","authorization","PopupWithForm","onSubmit","title","children","btnText","useEffect","handleEscClick","key","document","addEventListener","removeEventListener","noValidate","EditProfilePopup","onUpdateUser","isPending","setIsPending","useState","setName","setAbout","e","preventDefault","htmlFor","placeholder","id","minLength","maxLength","required","value","onChange","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","setLink","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","setCards","selectedCard","setSelectedCard","all","getUserInfo","getInitialCards","cardsData","catch","err","console","log","closeAllPopups","Provider","changeLikeCardStatus","newCard","state","c","filter","editUserInfo","data","finally","updateAvatar","postNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"iLAAe,MAA0B,iC,OCU1BA,MARf,WACE,OACE,wBAAQC,UAAU,SAAlB,SACE,qBAAKC,IAAKC,EAAMC,IAAI,mDAAgBH,UAAU,YCHrCI,4BCyDAC,MAxDf,YAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aACvCC,EAAcC,qBAAWC,GAazBC,EAAQP,EAAKQ,MAAMC,MAAQL,EAAYK,IAEvCC,EAAyB,wCAC7BH,EAAQ,GAAK,iCAGTI,EAAUX,EAAKY,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQL,EAAYK,OAEvDM,EAAuB,+BAC3BJ,EAAO,8BAAmC,IAG5C,OACE,qBAAIjB,UAAU,UAAd,UACE,qBACEC,IAAKK,EAAKgB,KACVnB,IAAKG,EAAKiB,KACVvB,UAAU,mBACVwB,QA9BkB,WACtBjB,EAAY,CAAEkB,QAASnB,EAAKiB,KAAMD,KAAMhB,EAAKgB,UA+B3C,wBACEI,KAAK,SACLC,aAAW,6CACX3B,UAAWgB,EACXQ,QA5BoB,WACxBf,EAAaH,MA6BX,sBAAKN,UAAU,gBAAf,UACE,oBAAIA,UAAU,uBAAd,SAAsCM,EAAKiB,OAC3C,sBAAKvB,UAAU,sBAAf,UACE,wBACE0B,KAAK,SACLC,aAAW,mDACX3B,UAAWqB,EACXG,QAzCc,WACtBhB,EAAWF,MA0CL,mBAAGN,UAAU,sBAAb,SAAoCM,EAAKY,MAAMU,mBCY1CC,MA5Df,YAQI,IAPFC,EAOC,EAPDA,cACAC,EAMC,EANDA,aACAC,EAKC,EALDA,WACAC,EAIC,EAJDA,MACA1B,EAGC,EAHDA,YACAC,EAEC,EAFDA,WACAC,EACC,EADDA,aAEMC,EAAcC,qBAAWC,GAE/B,OACE,uBAAMZ,UAAU,UAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,qBAAKA,UAAU,0BAA0BwB,QAASO,EAAlD,SACE,qBACE9B,IAAKS,EAAYwB,OACjB/B,IAAI,uCACJH,UAAU,sBAGd,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BU,EAAYa,OAC3C,wBACEG,KAAK,SACLC,aAAW,4HACX3B,UAAU,8BACVwB,QAASM,OAGb,mBAAG9B,UAAU,uBAAb,SAAqCU,EAAYyB,WAEnD,wBACET,KAAK,SACLC,aAAW,mIACX3B,UAAU,6BACVwB,QAASQ,OAIb,yBAAShC,UAAU,WAAnB,SACE,oBAAIA,UAAU,iBAAd,SACGiC,EAAMG,KAAI,SAAC9B,GACV,OACE,cAAC,EAAD,CACEA,KAAMA,EACNC,YAAaA,EACbC,WAAYA,EACZC,aAAcA,GACTH,EAAKS,gBC/CXsB,MAPf,WACE,OACE,wBAAQrC,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,yBAAuC,IAAIsC,MAAOC,cAAlD,uBCuBSC,MA1Bf,YAAwC,IAAlBlC,EAAiB,EAAjBA,KAAMmC,EAAW,EAAXA,QAK1B,OACE,qBACEzC,UAAS,8BAAyBM,EAAKoC,OAAS,eAAiB,MACjElB,QAPuB,SAACmB,GACtBA,EAAMC,SAAWD,EAAME,eAAeJ,KAI1C,SAIE,yBAAQzC,UAAU,gBAAlB,UACE,wBACE0B,KAAK,SACLC,aAAW,sEACX3B,UAAU,6BACVwB,QAASiB,IAEX,qBAAKxC,IAAKK,EAAKgB,KAAMnB,IAAI,mDAAWH,UAAU,mBAC9C,4BAAYA,UAAU,yBAAtB,SACGM,EAAKmB,gB,eC6DDqB,EARH,I,WAvEV,WAAYC,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,QACxBF,KAAKG,SAAWJ,EAAQK,QACxBJ,KAAKK,WAAaL,KAAKK,WAAWC,KAAKN,M,oDAGzC,SAAiBO,GACf,OAAOA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,gDAA0BJ,EAAIK,W,yBAG7D,WAAe,IAAD,OACZ,OAAOC,MAAM,GAAD,OAAIb,KAAKC,SAAT,aAA8B,CACxCa,OAAQ,MACRV,QAASJ,KAAKG,WACbY,MAAK,SAACR,GAAD,OAAS,EAAKS,iBAAiBT,Q,0BAGzC,SAAaU,GAAW,IAAD,OACrB,OAAOJ,MAAM,GAAD,OAAIb,KAAKC,SAAT,aAA8B,CACxCa,OAAQ,QACRV,QAASJ,KAAKG,SACde,KAAMC,KAAKC,UAAU,CACnB7C,KAAK,GAAD,OAAK0C,EAAS1C,MAClBY,MAAM,GAAD,OAAK8B,EAAS9B,WAEpB4B,MAAK,SAACR,GAAD,OAAS,EAAKS,iBAAiBT,Q,0BAGzC,SAAajC,GAAO,IAAD,OACjB,OAAOuC,MAAM,GAAD,OAAIb,KAAKC,SAAT,oBAAqC,CAC/Ca,OAAQ,QACRV,QAASJ,KAAKG,SACde,KAAMC,KAAKC,UAAU,CACnBlC,OAAQZ,MAETyC,MAAK,SAACR,GAAD,OAAS,EAAKS,iBAAiBT,Q,6BAGzC,WAAmB,IAAD,OAChB,OAAOM,MAAM,GAAD,OAAIb,KAAKC,SAAT,UAA2B,CACrCa,OAAQ,MACRV,QAASJ,KAAKG,WACbY,MAAK,SAACR,GAAD,OAAS,EAAKS,iBAAiBT,Q,yBAGzC,SAAYc,GAAW,IAAD,OACpB,OAAOR,MAAM,GAAD,OAAIb,KAAKC,SAAT,UAA2B,CACrCa,OAAQ,OACRV,QAASJ,KAAKG,SACde,KAAMC,KAAKC,UAAU,CACnB7C,KAAK,GAAD,OAAK8C,EAAS9C,MAClBD,KAAK,GAAD,OAAK+C,EAAS/C,UAEnByC,MAAK,SAACR,GAAD,OAAS,EAAKS,iBAAiBT,Q,kCAGzC,SAAqBe,EAAQrD,GAAU,IAAD,OACpC,OAAO4C,MAAM,GAAD,OAAIb,KAAKC,SAAT,wBAAiCqB,GAAU,CACrDR,OAAQ7C,EAAU,SAAW,MAC7BmC,QAASJ,KAAKG,WACbY,MAAK,SAACR,GAAD,OAAS,EAAKS,iBAAiBT,Q,wBAGzC,SAAWe,GAAS,IAAD,OACjB,OAAOT,MAAM,GAAD,OAAIb,KAAKC,SAAT,kBAA2BqB,GAAU,CAC/CR,OAAQ,SACRV,QAASJ,KAAKG,WACbY,MAAK,SAACR,GAAD,OAAS,EAAKS,iBAAiBT,U,KAI/B,CAAQ,CAClBL,QAAS,8CACTE,QAAS,CACPmB,cAAe,uCACf,eAAgB,sBCpBLC,MAtDf,YAQI,IAPF9B,EAOC,EAPDA,OACAD,EAMC,EANDA,QACAgC,EAKC,EALDA,SACAlD,EAIC,EAJDA,KACAmD,EAGC,EAHDA,MACAC,EAEC,EAFDA,SACAC,EACC,EADDA,QAkBA,OAZAC,qBAAU,WACR,IAAMC,EAAiB,SAACnC,GACJ,WAAdA,EAAMoC,KAAkBtC,KAK9B,OAFAuC,SAASC,iBAAiB,UAAWH,GAE9B,WACLE,SAASE,oBAAoB,UAAWJ,MAEzC,CAACpC,EAAQD,IAGV,qBACEzC,UAAS,sBAAiBuB,EAAjB,YAAyBmB,EAAS,eAAiB,IAC5DlB,QAnBuB,SAACmB,GACtBA,EAAMC,SAAWD,EAAME,eAAiBH,GAAQD,KAgBpD,SAIE,sBAAKzC,UAAU,mBAAf,UACE,wBACE0B,KAAK,SACLC,aAAW,sEACX3B,UAAU,6BACVwB,QAASiB,IAEX,oBAAIzC,UAAU,eAAd,SAA8B0E,IAC9B,uBACE1E,UAAS,uCAAkCuB,GAC3CA,KAAK,OACL4D,YAAU,EACVV,SAAUA,EAJZ,UAMGE,EACD,wBAAQjD,KAAK,SAAS1B,UAAU,uBAAhC,SACG4E,aCiCEQ,MA7Ef,YAMI,IALF1C,EAKC,EALDA,OACAD,EAIC,EAJDA,QACA4C,EAGC,EAHDA,aACAC,EAEC,EAFDA,UACAC,EACC,EADDA,aAEM7E,EAAcC,qBAAWC,GAC/B,EAAwB4E,mBAAS,IAAjC,mBAAOjE,EAAP,KAAakE,EAAb,KACA,EAA0BD,mBAAS,IAAnC,mBAAOrD,EAAP,KAAcuD,EAAd,KAyBA,OALAb,qBAAU,WACRY,EAAQ/E,EAAYa,MACpBmE,EAAShF,EAAYyB,SACpB,CAACzB,IAGF,eAAC,EAAD,CACEgC,OAAQA,EACRD,QAASA,EACTgC,SAnBiB,SAACkB,GACpBA,EAAEC,iBACFL,GAAa,GAEbF,EAAa,CACX9D,OACAY,WAcAZ,KAAK,OACLmD,MAAM,4HACNE,QAASU,EAAY,kEAAkB,yDANzC,UAQE,wBAAOO,QAAQ,OAAO7F,UAAU,eAAhC,UACE,uBACE0B,KAAK,OACLoE,YAAY,qBACZ9F,UAAU,eACV+F,GAAG,OACHxE,KAAK,OACLyE,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRC,MAAO5E,GAAQ,GACf6E,SA3CiB,SAACT,GACxBF,EAAQE,EAAE/C,OAAOuD,UA4Cb,sBAAMnG,UAAU,+BAElB,wBAAO6F,QAAQ,QAAQ7F,UAAU,eAAjC,UACE,uBACE0B,KAAK,OACLoE,YAAY,kCACZ9F,UAAU,eACV+F,GAAG,QACHxE,KAAK,QACLyE,UAAU,IACVC,UAAU,MACVC,UAAQ,EACRC,MAAOhE,GAAS,GAChBiE,SAtDwB,SAACT,GAC/BD,EAASC,EAAE/C,OAAOuD,UAuDd,sBAAMnG,UAAU,oCC/BTqG,MAzCf,YAMI,IALF3D,EAKC,EALDA,OACAD,EAIC,EAJDA,QACA6D,EAGC,EAHDA,eACAhB,EAEC,EAFDA,UACAC,EACC,EADDA,aAEMgB,EAAWC,mBASjB,OACE,cAAC,EAAD,CACEjF,KAAK,gBACLmD,MAAM,wFACNhC,OAAQA,EACRD,QAASA,EACTgC,SAdiB,SAACkB,GACpBA,EAAEC,iBACFL,GAAa,GAEbe,EAAeC,EAASE,QAAQN,OAChCI,EAASE,QAAQN,MAAQ,IAUvBvB,QAASU,EAAY,kEAAkB,yDANzC,SAQE,wBAAOO,QAAQ,SAAS7F,UAAU,eAAlC,UACE,uBACE0G,IAAKH,EACL7E,KAAK,MACLoE,YAAY,uHACZ9F,UAAU,eACV+F,GAAG,SACHxE,KAAK,SACL2E,UAAQ,IAEV,sBAAMlG,UAAU,oCCqCT2G,MAxEf,YAMI,IALFjE,EAKC,EALDA,OACAD,EAIC,EAJDA,QACAT,EAGC,EAHDA,WACAsD,EAEC,EAFDA,UACAC,EACC,EADDA,aAEA,EAAwBC,mBAAS,IAAjC,mBAAOjE,EAAP,KAAakE,EAAb,KACA,EAAwBD,mBAAS,IAAjC,mBAAOlE,EAAP,KAAasF,EAAb,KAuBA,OACE,eAAC,EAAD,CACErF,KAAK,MACLmD,MAAM,gEACNhC,OAAQA,EACRD,QAASA,EACTgC,SAnBiB,SAACkB,GACpBA,EAAEC,iBACFL,GAAa,GAEbvD,EAAW,CACTT,OACAD,SAGFmE,EAAQ,IACRmB,EAAQ,KAUNhC,QAASU,EAAY,kEAAkB,6CANzC,UAQE,wBAAOO,QAAQ,UAAU7F,UAAU,eAAnC,UACE,uBACE0B,KAAK,OACLoE,YAAY,mDACZ9F,UAAU,eACV+F,GAAG,UACHxE,KAAK,OACLyE,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRC,MAAO5E,EACP6E,SAzCoB,SAACT,GAC3BF,EAAQE,EAAE/C,OAAOuD,UA0Cb,sBAAMnG,UAAU,kCAElB,wBAAO6F,QAAQ,OAAO7F,UAAU,eAAhC,UACE,uBACE0B,KAAK,MACLoE,YAAY,uHACZ9F,UAAU,eACV+F,GAAG,OACHxE,KAAK,OACL2E,UAAQ,EACRC,MAAO7E,EACP8E,SAlDiB,SAACT,GACxBiB,EAAQjB,EAAE/C,OAAOuD,UAmDb,sBAAMnG,UAAU,mCC4FT6G,MArJf,WACE,MAAsCrB,mBAAS,IAA/C,mBAAO9E,EAAP,KAAoBoG,EAApB,KACA,EAA4DtB,oBAAS,GAArE,mBAAOuB,EAAP,KAA+BC,EAA/B,KACA,EAAsDxB,oBAAS,GAA/D,mBAAOyB,EAAP,KAA4BC,EAA5B,KACA,EAA0D1B,oBAAS,GAAnE,mBAAO2B,EAAP,KAA8BC,EAA9B,KACA,EAA0B5B,mBAAS,IAAnC,mBAAOvD,EAAP,KAAcoF,EAAd,KACA,EAAwC7B,mBAAS,CAC/C9C,QAAQ,EACRjB,QAAS,GACTH,KAAM,KAHR,mBAAOgG,EAAP,KAAqBC,EAArB,KAKA,EAAkC/B,oBAAS,GAA3C,mBAAOF,EAAP,KAAkBC,EAAlB,KAEAV,qBAAU,WACRnB,QAAQ8D,IAAI,CAAC1E,EAAI2E,cAAe3E,EAAI4E,oBACjC3D,MAAK,YAA4B,IAAD,mBAAzBE,EAAyB,KAAf0D,EAAe,KAC/Bb,EAAe7C,GACfoD,EAAS,YAAIM,OAEdC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAC7B,IAEH,IA2EMG,EAAiB,WACrBhB,GAA0B,GAC1BI,GAAyB,GACzBF,GAAuB,GACvBK,EAAgB,CACd7E,QAAQ,EACRjB,QAAS,GACTH,KAAM,MAIV,OACE,eAACV,EAAmBqH,SAApB,CAA6B9B,MAAOzF,EAApC,UACE,sBAAKV,UAAU,OAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACE8B,cA3FuB,WAC7BkF,GAA0B,IA2FpBhF,WApFoB,WAC1BkF,GAAuB,IAoFjBnF,aAzFsB,WAC5BqF,GAAyB,IAyFnBnF,MAAOA,EACP1B,YAnFgB,SAACD,GACvBiH,EAAgB,CACd7E,QAAQ,EACRjB,QAASnB,EAAKmB,QACdH,KAAMhB,EAAKgB,QAgFPd,WA3Ce,SAACF,GACtB,IAAMW,EAAUX,EAAKY,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQL,EAAYK,OAE7D+B,EACGoF,qBAAqB5H,EAAKS,IAAKE,GAC/B8C,MAAK,SAACoE,GACLd,GAAS,SAACe,GAAD,OACPA,EAAMhG,KAAI,SAACiG,GAAD,OAAQA,EAAEtH,MAAQT,EAAKS,IAAMoH,EAAUE,WAGpDT,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,OAkCxBpH,aA/BiB,SAACH,GACxBwC,EACGO,WAAW/C,EAAKS,KAChBgD,MAAK,WACJsD,GAAS,SAACe,GAAD,OAAWA,EAAME,QAAO,SAACD,GAAD,OAAOA,EAAEtH,MAAQT,EAAKS,aAExD6G,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,SA2B1B,cAAC,EAAD,OAEF,cAAC,EAAD,CACEnF,OAAQqE,EACRtE,QAASuF,EACT3C,aApFmB,SAACpB,GACxBnB,EACGyF,aAAatE,GACbF,MAAK,SAACyE,GACL1B,EAAe0B,GACfR,OAEDJ,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAR,oCAAyCF,OACxDY,SAAQ,kBAAMlD,GAAa,OA6E1BD,UAAWA,EACXC,aAAcA,IAEhB,cAAC,EAAD,CACE7C,OAAQyE,EACR1E,QAASuF,EACT1B,eAhFqB,SAAChF,GAC1BwB,EACG4F,aAAapH,GACbyC,MAAK,SAACyE,GACL1B,EAAe0B,GACfR,OAEDJ,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAR,oCAAyCF,OACxDY,SAAQ,kBAAMlD,GAAa,OAyE1BD,UAAWA,EACXC,aAAcA,IAEhB,cAAC,EAAD,CACE7C,OAAQuE,EACRxE,QAASuF,EACThG,WA5EuB,SAACqC,GAC5BvB,EACG6F,YAAYtE,GACZN,MAAK,SAACoE,GACLd,EAAS,CAACc,GAAF,mBAAclG,KACtB+F,OAEDJ,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAR,oCAAyCF,OACxDY,SAAQ,kBAAMlD,GAAa,OAqE1BD,UAAWA,EACXC,aAAcA,IAEhB,cAAC,EAAD,CAAYjF,KAAMgH,EAAc7E,QAASuF,QChJhCY,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB/E,MAAK,YAAkD,IAA/CgF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFtE,SAASuE,eAAe,SAM1BX,K","file":"static/js/main.45710020.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"Логотип Mesto\" className=\"logo\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { createContext } from \"react\";\r\n\r\nexport default createContext();\r\n","import { useContext } from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const handleCardClick = () => {\r\n    onCardClick({ caption: card.name, link: card.link });\r\n  };\r\n\r\n  const handleLikeClick = () => {\r\n    onCardLike(card);\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    onCardDelete(card);\r\n  };\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  const cardDeleteButtonClassName = `element__delete-button button ${\r\n    isOwn ? \"\" : \"element__delete-button_hidden\"\r\n  }`;\r\n\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = `element__like-button ${\r\n    isLiked ? `element__like-button_active` : \"\"\r\n  }`;\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <img\r\n        src={card.link}\r\n        alt={card.name}\r\n        className=\"element__picture\"\r\n        onClick={handleCardClick}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        aria-label=\"Удалить\"\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <div className=\"element__info\">\r\n        <h2 className=\"element__description\">{card.name}</h2>\r\n        <div className=\"element__like-group\">\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Нравится\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <p className=\"element__like-count\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import { useContext } from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\";\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onEditAvatar,\r\n  onAddPlace,\r\n  cards,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-overlay\" onClick={onEditAvatar}>\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt=\"Аватар\"\r\n            className=\"profile__avatar\"\r\n          />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__row\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              aria-label=\"Редактировать профиль\"\r\n              className=\"profile__edit-button button\"\r\n              onClick={onEditProfile}\r\n            ></button>\r\n          </div>\r\n          <p className=\"profile__description\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Добавить новую картинку\"\r\n          className=\"profile__add-button button\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {cards.map((card) => {\r\n            return (\r\n              <Card\r\n                card={card}\r\n                onCardClick={onCardClick}\r\n                onCardLike={onCardLike}\r\n                onCardDelete={onCardDelete}\r\n                key={card._id}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">{`© ${new Date().getFullYear()}. Mesto Russia`}</p>\r\n    </footer>\r\n  );\r\n}\r\nexport default Footer;\r\n","function ImagePopup({ card, onClose }) {\r\n  const handleOverlayClick = (event) => {\r\n    if (event.target === event.currentTarget) onClose();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_picture ${card.isOpen ? \"popup_opened\" : null}`}\r\n      onClick={handleOverlayClick}\r\n    >\r\n      <figure className=\"popup__figure\">\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Закрыть окно\"\r\n          className=\"popup__close-button button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <img src={card.link} alt=\"Картинка\" className=\"popup__picture\" />\r\n        <figcaption className=\"popup__picture-caption\">\r\n          {card.caption}\r\n        </figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n    this.deleteCard = this.deleteCard.bind(this);\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  editUserInfo(userData) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: `${userData.name}`,\r\n        about: `${userData.about}`,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  updateAvatar(link) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: link,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  postNewCard(cardData) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: `${cardData.name}`,\r\n        link: `${cardData.link}`,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: isLiked ? \"DELETE\" : \"PUT\",\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-23\",\r\n  headers: {\r\n    authorization: \"4e889ddc-d2d9-4f86-9d14-e5fd9f0022dc\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import { useEffect } from \"react\";\r\n\r\nfunction PopupWithForm({\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  name,\r\n  title,\r\n  children,\r\n  btnText,\r\n}) {\r\n  const handleOverlayClick = (event) => {\r\n    if (event.target === event.currentTarget && isOpen) onClose();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleEscClick = (event) => {\r\n      if (event.key === \"Escape\") onClose();\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleEscClick);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscClick);\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_${name} ${isOpen ? \"popup_opened\" : \"\"}`}\r\n      onClick={handleOverlayClick}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Закрыть окно\"\r\n          className=\"popup__close-button button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form\r\n          className={`popup__form popup__form_type_${name}`}\r\n          name=\"edit\"\r\n          noValidate\r\n          onSubmit={onSubmit}\r\n        >\r\n          {children}\r\n          <button type=\"submit\" className=\"popup__submit-button\">\r\n            {btnText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import { useContext, useState, useEffect } from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup({\r\n  isOpen,\r\n  onClose,\r\n  onUpdateUser,\r\n  isPending,\r\n  setIsPending,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [about, setAbout] = useState(\"\");\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const handleDescriptionChange = (e) => {\r\n    setAbout(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setIsPending(true);\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setAbout(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      btnText={isPending ? \"Сохранение...\" : \"Сохранить\"}\r\n    >\r\n      <label htmlFor=\"name\" className=\"popup__field\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Имя\"\r\n          className=\"popup__input\"\r\n          id=\"name\"\r\n          name=\"name\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          required\r\n          value={name || \"\"}\r\n          onChange={handleNameChange}\r\n        />\r\n        <span className=\"popup__error name-error\"></span>\r\n      </label>\r\n      <label htmlFor=\"about\" className=\"popup__field\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"О себе\"\r\n          className=\"popup__input\"\r\n          id=\"about\"\r\n          name=\"about\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n          value={about || \"\"}\r\n          onChange={handleDescriptionChange}\r\n        />\r\n        <span className=\"popup__error about-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({\r\n  isOpen,\r\n  onClose,\r\n  onUpdateAvatar,\r\n  isPending,\r\n  setIsPending,\r\n}) {\r\n  const inputRef = useRef();\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setIsPending(true);\r\n\r\n    onUpdateAvatar(inputRef.current.value);\r\n    inputRef.current.value = \"\";\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar-update\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      btnText={isPending ? \"Сохранение...\" : \"Сохранить\"}\r\n    >\r\n      <label htmlFor=\"avatar\" className=\"popup__field\">\r\n        <input\r\n          ref={inputRef}\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на изображение\"\r\n          className=\"popup__input\"\r\n          id=\"avatar\"\r\n          name=\"avatar\"\r\n          required\r\n        />\r\n        <span className=\"popup__error avatar-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import { useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({\r\n  isOpen,\r\n  onClose,\r\n  onAddPlace,\r\n  isPending,\r\n  setIsPending,\r\n}) {\r\n  const [name, setName] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n\r\n  const handleCaptionChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const handleLinkChange = (e) => {\r\n    setLink(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setIsPending(true);\r\n\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      btnText={isPending ? \"Сохранение...\" : \"Создать\"}\r\n    >\r\n      <label htmlFor=\"caption\" className=\"popup__field\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Название\"\r\n          className=\"popup__input\"\r\n          id=\"caption\"\r\n          name=\"name\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          required\r\n          value={name}\r\n          onChange={handleCaptionChange}\r\n        />\r\n        <span className=\"popup__error caption-error\"></span>\r\n      </label>\r\n      <label htmlFor=\"link\" className=\"popup__field\">\r\n        <input\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на изображение\"\r\n          className=\"popup__input\"\r\n          id=\"link\"\r\n          name=\"link\"\r\n          required\r\n          value={link}\r\n          onChange={handleLinkChange}\r\n        />\r\n        <span className=\"popup__error link-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import \"../index.css\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [cards, setCards] = useState([]);\r\n  const [selectedCard, setSelectedCard] = useState({\r\n    isOpen: false,\r\n    caption: \"\",\r\n    link: \"\",\r\n  });\r\n  const [isPending, setIsPending] = useState(false);\r\n\r\n  useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n      .then(([userData, cardsData]) => {\r\n        setCurrentUser(userData);\r\n        setCards([...cardsData]);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard({\r\n      isOpen: true,\r\n      caption: card.caption,\r\n      link: card.link,\r\n    });\r\n  };\r\n\r\n  const handleUpdateUser = (userData) => {\r\n    api\r\n      .editUserInfo(userData)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Error in profile editing: ${err}`))\r\n      .finally(() => setIsPending(false));\r\n  };\r\n\r\n  const handleUpdateAvatar = (link) => {\r\n    api\r\n      .updateAvatar(link)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Error in avatar updating: ${err}`))\r\n      .finally(() => setIsPending(false));\r\n  };\r\n\r\n  const handleAddPlaceSubmit = (cardData) => {\r\n    api\r\n      .postNewCard(cardData)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Error in avatar updating: ${err}`))\r\n      .finally(() => setIsPending(false));\r\n  };\r\n\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const handleCardDelete = (card) => {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== card._id));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard({\r\n      isOpen: false,\r\n      caption: \"\",\r\n      link: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          cards={cards}\r\n          onCardClick={handleCardClick}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n        />\r\n        <Footer />\r\n      </div>\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n        isPending={isPending}\r\n        setIsPending={setIsPending}\r\n      />\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n        isPending={isPending}\r\n        setIsPending={setIsPending}\r\n      />\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onAddPlace={handleAddPlaceSubmit}\r\n        isPending={isPending}\r\n        setIsPending={setIsPending}\r\n      />\r\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}